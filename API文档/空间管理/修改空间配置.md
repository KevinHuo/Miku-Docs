# 描述
修改指定空间（Bucket）的配置，包括录制、转推、回源、回调、流媒体参数、转码等。

# 接口信息
- **请求方法**: PATCH
- **请求地址**: `<bucket>`.mls.cn-east-1.qiniumiku.com
- **请求路径**: /
- **请求参数**:
  - **config** (string) - 配置，必需
  - **region** (string) - 地区，可选  

# 请求参数
## Header 参数
| 参数名称 | 位置 | 类型 | 必填 | 示例值 | 描述 |
|:---|:---:|:---:|:---:|:---|:---|
| Host | Header | string | 是 | `<bucket>`.mls.cn-east-1.qiniumiku.com | 请求的服务域名 |
| Authorization | Header | string | 是 | `<QiniuToken>` | 管理凭证 QiniuToken，[生成规则](/mikustream/api/12893/mikustream-live-http-requests-authentication) |

## Body 参数 (application/json)

示例：
```json
{
  "status": "Enabled",
  "recording": {
    "enable": true,
    "objectBucket": "test-bucket",
    "expireDays": 10,
    "segmentDuration": 5,
    "snapshot": {
      "enable": true,
      "interval": 5,
      "filename": "test",
      "format": "",
      "expireDays": 3
    }
  },
  "callbackUrl": "http://www.example.com",
}
```

## 参数
| 参数名称 | 类型 | 是否必需 | 说明 |
|:---|:---:|:---:|:---|
| status | string | 可选 | 状态（Enabled：可用；Disabled：不可用；Banned：禁用） |
| recording | object | 可选 | 录制配置，[详见 recording 对象](#recording-object) |
| callbackUrl | string | 可选 | 回调地址 |
| callbackEnable | boolean | 可选 | 是否开启回调通知 |
| refererSecurity | object | 可选 | 防盗链配置，[详见 refererSecurity 对象](#referer-security-object) |

# 请求示例
```http
PATCH /?config HTTP/1.1
Host: test.mls.cn-east-1.qiniumiku.com
Authorization: <QiniuToken>
Content-Type: application/json

{
  "status": "Enabled",
  "recording": {
    "enable": true,
    "objectBucket": "test-bucket",
    "expireDays": 10,
    "segmentDuration": 5,
    "snapshot": {
      "enable": true,
      "interval": 5,
      "filename": "test",
      "format": "",
      "expireDays": 3
    }
  },
  "callbackUrl": "http://www.example.com",
  "streamConf": {
    "gopCacheMode": 0,
    "gopCacheNum": 10,
    "noDataTimeout": 10
  }
}
```

# 返回响应

## 响应状态码
- **请查阅**: [这里](/mikustream/api/12894/mikustream-live-error-code)

## 响应示例

```json
{
    "callbackEnable": false,
    "callbackUrl": "",
    "codec": null,
    "connectId": "YmgAAMhqlCThCXkY",
    "creationDate": "2019-01-01T00:00:00.000+08:00",
    "lastModified": "2019-01-02T00:00:00.000+08:00",
    "name": "test-bucket-name",
    "recording": {
        "enable": true,
        "objectBucket": "test-bucket",
        "objectZone": "z0",
        "expireDays": 10,
        "segmentDuration": 5,
        "snapshot": {
            "enable": true,
            "notifyUrl": "",
            "pipeline": "",
            "bucket": "",
            "interval": 5,
            "filename": "test",
            "format": "",
            "roundingGaps": 0,
            "expireDays": 3
        },
        "format": [
            "m3u8"
        ],
        "playbackDomain": ""
    },
    "refererSecurity": {
        "type": "",
        "list": null,
        "includeEmpty": false
    },
    "region": "cn-east-1",
    "status": "Enabled"
}
```
## 响应参数
| 参数名称 | 类型 | 说明 |
|:---|:---:|:---|
| callbackEnable | boolean | 是否启用回调通知功能 |
| callbackUrl | string | 回调地址 |
| codec | null | 转码相关配置 |
| connectId | string | 连接ID，用于唯一标识一个推流或拉流连接 |
| creationDate | string | 创建时间，遵循 ISO 8601 格式 |
| lastModified | string | 修改时间，遵循 ISO 8601 格式 |
| name | string | 空间名称 |
| recording | object | 录制配置，[详见 recording 对象](#recording-object) |
| refererSecurity | object | 防盗链配置，[详见 refererSecurity 对象](#referer-security-object) |
| region | string | 区域 |
| status | string | 状态 |

<a id="recording-object"></a>
## recording 对象
| 参数名称 | 类型 | 是否必需 | 说明 |
|:---|:---:|:---:|:---|
| enable | boolean | 可选 | 是否开启录制功能 |
| objectBucket | string | 可选 | 录制文件保存对象空间 |
| objectZone | string | 可选 | 对象存储空间的区域 |
| expireDays | integer | 可选 | 录制过期时间，默认不过期 |
| segmentDuration | integer | 可选 | 录制切片时长，默认 5s |
| snapshot | object | 可选 | 截图配置，[详见 snapshot 对象](#snapshot-object) |
| format | []string | 可选 | 支持的录制格式列表，如 ['flv', 'mp4'] |
| playbackDomain | string | 可选 | 回放域名 |

<a id="snapshot-object"></a>
## snapshot 对象
| 参数名称 | 类型 | 是否必需 | 说明 |
|:---|:---:|:---:|:---|
| enable | boolean | 可选 | 是否开启截图 |
| notifyUrl | string | 可选 | 截图完成后的回调通知地址 |
| pipeline | string | 可选 | 截图处理管道名称（如七牛 Dora 管道） |
| bucket | string | 可选 | 截图存储的目标 Bucket |
| interval | integer | 可选 | 截图间隔,单位为 s |
| filename | string | 可选 | 截图文件名模板 |
| format | string | 可选 | 参考：[管道](https://developer.qiniu.com/dora/8273/the-pipe) <br>举例：<br>vframe/jpg/offset/0<br>vframe/png/offset/0  |
| roundingGaps | integer | 可选 | 时间对齐容差（秒），用于精确对齐截图时间点 |
| expireDays | integer | 可选 | 截图过期时间，默认不过期 |

<a id="referer-security-object"></a>
## refererSecurity 对象
| 参数名称 | 类型 | 是否必需 | 说明 |
|:---|:---:|:---:|:---|
| type | string | 可选 | "black"：黑名单类型 "white"：白名单类型 ""：关闭鉴权 |
| list | null | 可选 | Referer 白名单或黑名单列表（当前未启用，保留字段） |
| includeEmpty | boolean | 可选 | 是否允许空 Referer 访问 |
