# 修改下行域名配置
## 描述
修改指定直播空间中某个下行域名的配置

## 接口信息
- **请求方法**: PATCH
- **请求路径**: /
- **请求参数**:
  - **domainConfig** (string) - 域名配置，必需
  - **name** (string) - 域名，必需  
    示例值: `www.example.com`
  - **fields** (string) - 指定要更新的字段，可选。支持以下字段: `ipLimit`, `httpResponseHeader`, `auth`, `refererSecurity`, `protocolForbiddens`  
    示例值: `iplimit,httpResponseHeader`


## 请求参数
### Header 参数
| 参数名 | 位置 | 类型 | 必填 | 示例值 | 描述 |
|:---|:---|:---|:---|:---|:---|
| Host | Header | string | 是 | `<bucket>`.mls.cn-east-1.qiniumiku.com | 请求的服务域名 |
| Authorization | Header | string | 是 | `<QiniuToken>` | 管理凭证 QiniuToken |

### Body 参数 (application/json)
示例：
```json
{
    "type":"liveRtmp",
    "auth": {
        "enable": true,
        "type":"test",
        "primaryKey": "QXV0aG9yaXphdGlvbg",
        "secondaryKey": "QXV0aG9yaXphdGlvbg",
        "expireSeconds": 120
    },
    "certificateID": "",
    "httpsEnable": false
}
```
### 参数
| 参数名称 | 类型 | 是否必需 | 说明 |
|:---|:---|:---|:---|
| type | string | 可选 | 域名类型 |
| auth | object | 可选 | 防盗链配置信息，[详见auth对象](#auth-object) |
| certificateID | string | 可选 | HTTPS证书ID |
| httpsEnable | boolean | 可选 | 是否启用HTTPS |


## 访问域名
```go
<bucket>.mls.cn-east-1.qiniumiku.com
```

## 认证授权
```go
Authorization: <QiniuToken>
```
- **QiniuToken 详细描述请查阅**: [这里](/mikustream/api/12893/mikustream-live-http-requests-authentication)

## 请求示例
```http
PATCH /?domainConfig&name=www.example.com&fields=iplimit HTTP/1.1
Host: test.mls.cn-east-1.qiniumiku.com
Authorization: <QiniuToken>
Content-Type: application/json

{
    "type":"liveRtmp",
    "auth": {
        "enable": true,
        "type":"test",
        "primaryKey": "QXV0aG9yaXphdGlvbg",
        "secondaryKey": "QXV0aG9yaXphdGlvbg",
        "expireSeconds": 120
    },
    "certificateID": "",
    "httpsEnable": false
}
```
## 返回响应

### 响应状态码
- **请查阅**: [这里](/mikustream/api/12894/mikustream-live-error-code)

### 响应示例
```json
{
  "enable": true,
  "bucketId": "test",
  "region": "cn-east-1",
  "domain": "www.example.com",
  "cname": "www.example.com.subscribe.mikudns.com",
  "type": "live",
  "auth": {
    "type": "test",
    "enable": true,
    "primaryKey": "QXV0aG9yaXphdGlvbg",
    "secondaryKey": "QXV0aG9yaXphdGlvbg",
    "expireSeconds": 120
  },
  "bframeConfig": {},
  "certificateID": "",
  "creationDate": "2025-11-19T11:14:00.000+08:00",
  "lastModified": "2025-11-19T13:33:00.000+08:00",
  "httpsEnable": false,
  "ipLimit": {
    "whitelist": null,
    "blacklist": null
  },
  "refererSecurity": {
    "type": "",
    "list": null,
    "includeEmpty": false
  }
}
```
### 响应参数
| 参数名称 | 类型 | 说明 |
|:---|:---|:---|
| enable | boolean | 是否启用该配置 |
| bucketId | string | 存储空间ID |
| region | string | 区域 |
| domain | string | 域名 |
| cname | string | CNAME记录 |
| type | string | 类型 |
| auth | object | 防盗链配置，[详见auth对象](#auth-object) |
| bframeConfig | object | B帧配置 |
| certificateID | string | 证书ID |
| creationDate | string | 创建时间 |
| lastModified | string | 最后修改时间 |
| httpsEnable | boolean | 是否启用HTTPS |
| ipLimit | object | IP限制配置，[详见ipLimit对象](#ip-limit-object) |
| refererSecurity | object | Referer安全配置，[详见refererSecurity对象](#referer-security-object) |

<a id="auth-object"></a>
### auth对象
| 参数名称 | 类型 | 说明 |
|:---|:---|:---|
| type | string | 防盗链类型 |
| enable | boolean | 是否启用防盗链 |
| primaryKey | string | 主密钥 |
| secondaryKey | string | 从密钥 |
| expireSeconds | integer | 过期时间（秒） |

<a id="ip-limit-object"></a>
### ipLimit对象
| 参数名称 | 类型 | 说明 |
|:---|:---|:---|
| whitelist | null | 白名单 |
| blacklist | null | 黑名单 |

<a id="referer-security-object"></a>
### refererSecurity对象
| 参数名称 | 类型 | 说明 |
|:---|:---|:---|
| type | string | Referer类型 |
| list | null | Referer列表 |
| includeEmpty | boolean | 是否包含空Referer |